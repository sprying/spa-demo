define("app/views/start/todo/list",["magix","app/model/TodoModel","app/exts/globalTip/index"],function(t,e,i){return t.View.extend({tmpl:'<div class=table-container> <div class=toolbar> <a href="/start/todo/add.htm" class="btn btn-brand">\u65b0\u5efa\u6d88\u606f</a> </div> <table class=table> <thead> <tr> <th class=w40>\u5e8f\u53f7</th> <th class=w60>ID</th> <th class=w100>\u6807\u9898</th> <th>\u5185\u5bb9</th> <th class="w80 center">\u64cd\u4f5c</th> </tr> </thead> <tbody> {{^if(isError)}} {{#for(item in todos)}} <tr> <td>{{__INDEX__}}</td> <td>{{item.id}}</td> <td>{{item.title}}</td> <td>{{item.content}}</td> <td class=center> <div class=operation> <a href="javascript:void(0);" class=color-blue mx-click="delItem({{__INDEX__}}, {{item.id}})">\u5220\u9664</a> </div> </td> </tr> {{/for}} {{/if}} {{#if(isError)}} <tr> <td colspan=5> <a href="javascript:void(0);" class=color-blue mx-click="fresh()">\u5237\u65b0</a> </td> </tr> {{/if}} </tbody> </table> </div> ',render:function(){var t=this;e.fetchList(this).then(function(e,i){t.data=e?{isError:!0}:{isError:!1,todos:i},t.setView()})},fresh:function(t){this.render()},delItem:function(t,s,d){var a=this;e.delItem(this,{id:d}).then(function(t,e){t||(i.show({content:"\u5220\u9664\u6210\u529f",type:"ok"}),a.data.todos.splice(s,1),a.setView())})}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0YXJ0L3RvZG8vbGlzdC5qcyJdLCJuYW1lcyI6WyJkZWZpbmUiLCJNYWdpeCIsIlRvZG9Nb2RlbCIsImdsb2JhbFRpcCIsIlZpZXciLCJleHRlbmQiLCJ0bXBsIiwicmVuZGVyIiwibWUiLCJ0aGlzIiwiZmV0Y2hMaXN0IiwidGhlbiIsImVyciIsImRhdGEiLCJpc0Vycm9yIiwidG9kb3MiLCJzZXRWaWV3IiwiZnJlc2giLCJlIiwiZGVsSXRlbSIsImluZGV4IiwiaWQiLCJzaG93IiwiY29udGVudCIsInR5cGUiLCJzcGxpY2UiXSwibWFwcGluZ3MiOiJBQUdBQSxPQUFPLDZCQUNMLFFBQ0Esc0JBQ0EsNEJBQ0MsU0FBU0MsRUFBT0MsRUFBV0MsR0FDM0IsTUFBT0YsR0FBTUcsS0FBS0MsUUFBUUMsS0FBSyxxMEJBQXV3QkMsT0FBUSxXQUMzeUIsR0FBSUMsR0FBS0MsSUFFVFAsR0FBVVEsVUFBVUQsTUFBTUUsS0FBSyxTQUFTQyxFQUFLQyxHQUd6Q0wsRUFBR0ssS0FERkQsR0FFQ0UsU0FBUyxJQUlUQSxTQUFTLEVBQ1RDLE1BQU9GLEdBR1hMLEVBQUdRLGFBR1BDLE1BQU8sU0FBU0MsR0FDZFQsS0FBS0YsVUFFUFksUUFBUyxTQUFTRCxFQUFHRSxFQUFPQyxHQUMxQixHQUFJYixHQUFLQyxJQUNUUCxHQUFVaUIsUUFBUVYsTUFDaEJZLEdBQUlBLElBQ0hWLEtBQUssU0FBU0MsRUFBS0MsR0FDaEJELElBQ0ZULEVBQVVtQixNQUNSQyxRQUFTLDJCQUNUQyxLQUFNLE9BRVJoQixFQUFHSyxLQUFLRSxNQUFNVSxPQUFPTCxFQUFPLEdBQzVCWixFQUFHUSIsImZpbGUiOiJzdGFydC90b2RvL2xpc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgeWluZ2NodW4uZnljQGFsaWJhYmEtaW5jLmNvbSBvbiAyMDE3LzUvNi5cbiAqL1xuZGVmaW5lKCdhcHAvdmlld3Mvc3RhcnQvdG9kby9saXN0JyxbXG4gICdtYWdpeCcsXG4gICdhcHAvbW9kZWwvVG9kb01vZGVsJyxcbiAgJ2FwcC9leHRzL2dsb2JhbFRpcC9pbmRleCdcbl0sIGZ1bmN0aW9uKE1hZ2l4LCBUb2RvTW9kZWwsIGdsb2JhbFRpcCl7XG4gICByZXR1cm4gTWFnaXguVmlldy5leHRlbmQoe3RtcGw6XCI8ZGl2IGNsYXNzPXRhYmxlLWNvbnRhaW5lcj4gPGRpdiBjbGFzcz10b29sYmFyPiA8YSBocmVmPVxcXCIvc3RhcnQvdG9kby9hZGQuaHRtXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1icmFuZFxcXCI+5paw5bu65raI5oGvPC9hPiA8L2Rpdj4gPHRhYmxlIGNsYXNzPXRhYmxlPiA8dGhlYWQ+IDx0cj4gPHRoIGNsYXNzPXc0MD7luo/lj7c8L3RoPiA8dGggY2xhc3M9dzYwPklEPC90aD4gPHRoIGNsYXNzPXcxMDA+5qCH6aKYPC90aD4gPHRoPuWGheWuuTwvdGg+IDx0aCBjbGFzcz1cXFwidzgwIGNlbnRlclxcXCI+5pON5L2cPC90aD4gPC90cj4gPC90aGVhZD4gPHRib2R5PiB7e15pZihpc0Vycm9yKX19IHt7I2ZvcihpdGVtIGluIHRvZG9zKX19IDx0cj4gPHRkPnt7X19JTkRFWF9ffX08L3RkPiA8dGQ+e3tpdGVtLmlkfX08L3RkPiA8dGQ+e3tpdGVtLnRpdGxlfX08L3RkPiA8dGQ+e3tpdGVtLmNvbnRlbnR9fTwvdGQ+IDx0ZCBjbGFzcz1jZW50ZXI+IDxkaXYgY2xhc3M9b3BlcmF0aW9uPiA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMCk7XFxcIiBjbGFzcz1jb2xvci1ibHVlIG14LWNsaWNrPVxcXCJkZWxJdGVtKHt7X19JTkRFWF9ffX0sIHt7aXRlbS5pZH19KVxcXCI+5Yig6ZmkPC9hPiA8L2Rpdj4gPC90ZD4gPC90cj4ge3svZm9yfX0ge3svaWZ9fSB7eyNpZihpc0Vycm9yKX19IDx0cj4gPHRkIGNvbHNwYW49NT4gPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApO1xcXCIgY2xhc3M9Y29sb3ItYmx1ZSBteC1jbGljaz1cXFwiZnJlc2goKVxcXCI+5Yi35pawPC9hPiA8L3RkPiA8L3RyPiB7ey9pZn19IDwvdGJvZHk+IDwvdGFibGU+IDwvZGl2PiBcIiwgICAgcmVuZGVyOiBmdW5jdGlvbigpe1xuICAgICAgdmFyIG1lID0gdGhpc1xuXG4gICAgICBUb2RvTW9kZWwuZmV0Y2hMaXN0KHRoaXMpLnRoZW4oZnVuY3Rpb24oZXJyLCBkYXRhKXtcbiAgICAgICAgLy9tZS5zZXRIVE1MKG1lLmlkLCBtZS50bXBsKVxuICAgICAgICBpZihlcnIpe1xuICAgICAgICAgIG1lLmRhdGEgPSB7XG4gICAgICAgICAgICBpc0Vycm9yOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1lLmRhdGEgPSB7XG4gICAgICAgICAgICBpc0Vycm9yOiBmYWxzZSxcbiAgICAgICAgICAgIHRvZG9zOiBkYXRhXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1lLnNldFZpZXcoKVxuICAgICAgfSlcbiAgICB9LFxuICAgIGZyZXNoOiBmdW5jdGlvbihlKXtcbiAgICAgIHRoaXMucmVuZGVyKClcbiAgICB9LFxuICAgIGRlbEl0ZW06IGZ1bmN0aW9uKGUsIGluZGV4LCBpZCl7XG4gICAgICB2YXIgbWUgPSB0aGlzXG4gICAgICBUb2RvTW9kZWwuZGVsSXRlbSh0aGlzLCB7XG4gICAgICAgIGlkOiBpZFxuICAgICAgfSkudGhlbihmdW5jdGlvbihlcnIsIGRhdGEpe1xuICAgICAgICBpZighZXJyKXtcbiAgICAgICAgICBnbG9iYWxUaXAuc2hvdyh7XG4gICAgICAgICAgICBjb250ZW50OiAn5Yig6Zmk5oiQ5YqfJyxcbiAgICAgICAgICAgIHR5cGU6ICdvaydcbiAgICAgICAgICB9KVxuICAgICAgICAgIG1lLmRhdGEudG9kb3Muc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICAgIG1lLnNldFZpZXcoKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfSlcbn0pXG4iXX0=
