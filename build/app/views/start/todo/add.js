define("app/views/start/todo/add",["magix","brix/loader","app/model/TodoModel","app/exts/globalTip/index"],function(t,e,n,a){return t.View.extend({tmpl:'<div class=todo-add> <ol class=breadcrumb> <li><a href="/start/todo/list.htm">\u6d88\u606f\u5217\u8868</a></li> <li class="active title"><a href="/start/todo/add.htm">\u65b0\u5efa\u6d88\u606f</a></li> </ol> <form class=form bx-name="app/exts/auth/index" bx-options="{autoRender:true}"> <div class=form-element> <label class=form-label>\u6d88\u606f\u6807\u9898</label> <input type=text name=title class="input w260" id=J_title placeholder="\u8bf7\u8f93\u5165\u6d88\u606f\u6807\u9898" required maxlength=20 /> <span class="text-count ml10" bx-name="app/exts/textcount/index" bx-options="{\n        input:\'#J_title\',\n        count:20\n      }"></span> </div> <div class=form-element> <label class=form-label>\u6d88\u606f\u5185\u5bb9</label> <textarea name=content class="textarea w260" id=J_content placeholder="\u8bf7\u8f93\u5165\u6d88\u606f\u5185\u5bb9" required maxlength=100 />\n      <span class="text-count vb ml10" bx-name="app/exts/textcount/index" bx-options="{\n        input:\'#J_content\',\n        count:100\n      }"></span>\n    </div>\n    {{^if(isSending)}}\n    <button class="btn btn-brand w120" mx-click="doSubmit">\u65b0\u5efa\u6d88\u606f</button>\n    {{/if}}\n    {{#if(isSending)}}\n    <button class="btn btn-brand w120 btn-disabled">\u8bf7\u6c42\u4e2d...</button>\n    {{/if}}\n  </form>\n</div>',render:function(){this.data={},this.setView()},doSubmit:function(t){var i=this,l=$("#"+this.id);t.preventDefault(),e.query("app/exts/auth/index",l)[0].auth.test().then(function(){var t=l.find(".form").serializeJSON();n.addItem(i,t).then(function(t,e){t||a.show({content:"\u65b0\u589e\u6210\u529f",type:"ok",callback:function(){i.navigate("/start/todo/list.htm")}})}),i.data.isSending=!0,i.setView()})}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0YXJ0L3RvZG8vYWRkLmpzIl0sIm5hbWVzIjpbImRlZmluZSIsIk1hZ2l4IiwiTG9hZGVyIiwiVG9kb01vZGVsIiwiZ2xvYmFsVGlwIiwiVmlldyIsImV4dGVuZCIsInRtcGwiLCJyZW5kZXIiLCJ0aGlzIiwiZGF0YSIsInNldFZpZXciLCJkb1N1Ym1pdCIsImUiLCJtZSIsIiRlbCIsIiQiLCJpZCIsInByZXZlbnREZWZhdWx0IiwicXVlcnkiLCJhdXRoIiwidGVzdCIsInRoZW4iLCJmb3JtRGF0YSIsImZpbmQiLCJzZXJpYWxpemVKU09OIiwiYWRkSXRlbSIsImVyciIsInNob3ciLCJjb250ZW50IiwidHlwZSIsImNhbGxiYWNrIiwibmF2aWdhdGUiLCJpc1NlbmRpbmciXSwibWFwcGluZ3MiOiJBQUdBQSxPQUFPLDRCQUNMLFFBQ0EsY0FDQSxzQkFDQSw0QkFDQyxTQUFVQyxFQUFPQyxFQUFRQyxFQUFXQyxHQUNwQyxNQUFPSCxHQUFNSSxLQUFLQyxRQUFRQyxLQUFLLDR5Q0FBdXBDQyxPQUFRLFdBQzNyQ0MsS0FBS0MsUUFDTEQsS0FBS0UsV0FFUEMsU0FBVSxTQUFTQyxHQUNqQixHQUFJQyxHQUFLTCxLQUNMTSxFQUFNQyxFQUFFLElBQU1QLEtBQUtRLEdBQ3ZCSixHQUFFSyxpQkFDU2hCLEVBQU9pQixNQUFNLHNCQUF1QkosR0FBSyxHQUFHSyxLQUNsREMsT0FBT0MsS0FBSyxXQUNmLEdBQUlDLEdBQVdSLEVBQUlTLEtBQUssU0FBU0MsZUFFakN0QixHQUFVdUIsUUFBUVosRUFBSVMsR0FBVUQsS0FBSyxTQUFTSyxFQUFLakIsR0FDN0NpQixHQUNGdkIsRUFBVXdCLE1BQ1JDLFFBQVMsMkJBQ1RDLEtBQU0sS0FDTkMsU0FBVSxXQUNSakIsRUFBR2tCLFNBQVMsNkJBTXBCbEIsRUFBR0osS0FBS3VCLFdBQVksRUFDcEJuQixFQUFHSCIsImZpbGUiOiJzdGFydC90b2RvL2FkZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBzcHJ5aW5nLmZhbmdAZ21haWwuY29tIG9uIDE3LzUvOS5cbiAqL1xuZGVmaW5lKCdhcHAvdmlld3Mvc3RhcnQvdG9kby9hZGQnLCBbXG4gICdtYWdpeCcsXG4gICdicml4L2xvYWRlcicsXG4gICdhcHAvbW9kZWwvVG9kb01vZGVsJyxcbiAgJ2FwcC9leHRzL2dsb2JhbFRpcC9pbmRleCdcbl0sIGZ1bmN0aW9uIChNYWdpeCwgTG9hZGVyLCBUb2RvTW9kZWwsIGdsb2JhbFRpcCkge1xuICAgcmV0dXJuIE1hZ2l4LlZpZXcuZXh0ZW5kKHt0bXBsOlwiPGRpdiBjbGFzcz10b2RvLWFkZD4gPG9sIGNsYXNzPWJyZWFkY3J1bWI+IDxsaT48YSBocmVmPVxcXCIvc3RhcnQvdG9kby9saXN0Lmh0bVxcXCI+5raI5oGv5YiX6KGoPC9hPjwvbGk+IDxsaSBjbGFzcz1cXFwiYWN0aXZlIHRpdGxlXFxcIj48YSBocmVmPVxcXCIvc3RhcnQvdG9kby9hZGQuaHRtXFxcIj7mlrDlu7rmtojmga88L2E+PC9saT4gPC9vbD4gPGZvcm0gY2xhc3M9Zm9ybSBieC1uYW1lPVxcXCJhcHAvZXh0cy9hdXRoL2luZGV4XFxcIiBieC1vcHRpb25zPVxcXCJ7YXV0b1JlbmRlcjp0cnVlfVxcXCI+IDxkaXYgY2xhc3M9Zm9ybS1lbGVtZW50PiA8bGFiZWwgY2xhc3M9Zm9ybS1sYWJlbD7mtojmga/moIfpopg8L2xhYmVsPiA8aW5wdXQgdHlwZT10ZXh0IG5hbWU9dGl0bGUgY2xhc3M9XFxcImlucHV0IHcyNjBcXFwiIGlkPUpfdGl0bGUgcGxhY2Vob2xkZXI9XFxcIuivt+i+k+WFpea2iOaBr+agh+mimFxcXCIgcmVxdWlyZWQgbWF4bGVuZ3RoPTIwIC8+IDxzcGFuIGNsYXNzPVxcXCJ0ZXh0LWNvdW50IG1sMTBcXFwiIGJ4LW5hbWU9XFxcImFwcC9leHRzL3RleHRjb3VudC9pbmRleFxcXCIgYngtb3B0aW9ucz1cXFwie1xcbiAgICAgICAgaW5wdXQ6JyNKX3RpdGxlJyxcXG4gICAgICAgIGNvdW50OjIwXFxuICAgICAgfVxcXCI+PC9zcGFuPiA8L2Rpdj4gPGRpdiBjbGFzcz1mb3JtLWVsZW1lbnQ+IDxsYWJlbCBjbGFzcz1mb3JtLWxhYmVsPua2iOaBr+WGheWuuTwvbGFiZWw+IDx0ZXh0YXJlYSBuYW1lPWNvbnRlbnQgY2xhc3M9XFxcInRleHRhcmVhIHcyNjBcXFwiIGlkPUpfY29udGVudCBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWl5raI5oGv5YaF5a65XFxcIiByZXF1aXJlZCBtYXhsZW5ndGg9MTAwIC8+XFxuICAgICAgPHNwYW4gY2xhc3M9XFxcInRleHQtY291bnQgdmIgbWwxMFxcXCIgYngtbmFtZT1cXFwiYXBwL2V4dHMvdGV4dGNvdW50L2luZGV4XFxcIiBieC1vcHRpb25zPVxcXCJ7XFxuICAgICAgICBpbnB1dDonI0pfY29udGVudCcsXFxuICAgICAgICBjb3VudDoxMDBcXG4gICAgICB9XFxcIj48L3NwYW4+XFxuICAgIDwvZGl2PlxcbiAgICB7e15pZihpc1NlbmRpbmcpfX1cXG4gICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1icmFuZCB3MTIwXFxcIiBteC1jbGljaz1cXFwiZG9TdWJtaXRcXFwiPuaWsOW7uua2iOaBrzwvYnV0dG9uPlxcbiAgICB7ey9pZn19XFxuICAgIHt7I2lmKGlzU2VuZGluZyl9fVxcbiAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLWJyYW5kIHcxMjAgYnRuLWRpc2FibGVkXFxcIj7or7fmsYLkuK0uLi48L2J1dHRvbj5cXG4gICAge3svaWZ9fVxcbiAgPC9mb3JtPlxcbjwvZGl2PlwiLCAgICByZW5kZXI6IGZ1bmN0aW9uKCl7XG4gICAgICB0aGlzLmRhdGEgPSB7fVxuICAgICAgdGhpcy5zZXRWaWV3KClcbiAgICB9LFxuICAgIGRvU3VibWl0OiBmdW5jdGlvbihlKXtcbiAgICAgIHZhciBtZSA9IHRoaXNcbiAgICAgIHZhciAkZWwgPSAkKCcjJyArIHRoaXMuaWQpXG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIHZhciBhdXRoID0gTG9hZGVyLnF1ZXJ5KCdhcHAvZXh0cy9hdXRoL2luZGV4JywgJGVsKVswXS5hdXRoXG4gICAgICBhdXRoLnRlc3QoKS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBmb3JtRGF0YSA9ICRlbC5maW5kKCcuZm9ybScpLnNlcmlhbGl6ZUpTT04oKVxuXG4gICAgICAgIFRvZG9Nb2RlbC5hZGRJdGVtKG1lLCBmb3JtRGF0YSkudGhlbihmdW5jdGlvbihlcnIsIGRhdGEpe1xuICAgICAgICAgIGlmKCFlcnIpe1xuICAgICAgICAgICAgZ2xvYmFsVGlwLnNob3coe1xuICAgICAgICAgICAgICBjb250ZW50OiAn5paw5aKe5oiQ5YqfJyxcbiAgICAgICAgICAgICAgdHlwZTogJ29rJyxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgbWUubmF2aWdhdGUoJy9zdGFydC90b2RvL2xpc3QuaHRtJylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGRlYnVnZ2VyXG4gICAgICAgIG1lLmRhdGEuaXNTZW5kaW5nID0gdHJ1ZVxuICAgICAgICBtZS5zZXRWaWV3KClcbiAgICAgIH0pXG4gICAgfVxuICB9KVxufSlcbiJdfQ==
