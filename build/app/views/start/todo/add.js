define("app/views/start/todo/add",["require","module","exports","magix","brix/loader","app/model/TodoModel","app/exts/globalTip/index"],function(e,t,i){var a=e("magix"),o=e("brix/loader"),d=e("app/model/TodoModel"),n=e("app/exts/globalTip/index");return a.View.extend({render:function(){this.data={},this.setView()},doSubmit:function(e){var t=this,i=$("#"+this.id);e.preventDefault(),o.query("app/exts/auth/index",i)[0].auth.test().then(function(){var e=i.find(".form").serializeJSON();d.addItem(t,e).then(function(e,i){e||(t.navigate("/start/todo/list.htm"),n.show({content:"\u65b0\u589e\u6210\u529f",type:"ok"}))}),t.data.isSending=!0,t.setView()})}})});