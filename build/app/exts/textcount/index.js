define("app/exts/textcount/index",["require","module","exports","jquery","underscore","brix/base","css!app/exts/textcount/index.css"],function(t,n,e){var u=t("jquery"),o=(t("underscore"),t("brix/base"));return t("css!app/exts/textcount/index.css"),o.extend({options:{input:null,trueLength:!1,count:null,valid:!0},init:function(){var t=this,n=t.options,e=u(t.element),o=u(n.input);t.handle=function(){setTimeout(function(){e.html(t._countResult(o.val()))},100)},o.length>0&&(t.handle(),o.on("keyup",t.handle),o.on("paste",t.handle))},_count:function(t){return this.options.trueLength&&(t=t.replace(/[\u4e00-\u9fa5]/g,"**")),t.length},_countResult:function(t){var n=this,e=n.options,u=n._count(t),o=e.count,i=u;return u>o?(i='<em class="text-count-error">'+u+"</em>",n.valid=!1):n.valid=!0,i+"/"+o},isValid:function(){return this.valid},destroy:function(){var t=this,n=u(t.options.input);n.off("keyup",t.handle),n.off("paste",t.handle),n=null}})});