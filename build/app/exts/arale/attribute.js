define("app/exts/arale/attribute",["module","exports"],function(t,r){function e(t){return"[object String]"===w.call(t)}function n(t){return"[object Function]"===w.call(t)}function i(t){return null!=t&&t==t.window}function o(t){if(!t||"[object Object]"!==w.call(t)||t.nodeType||i(t))return!1;try{if(t.constructor&&!A.call(t,"constructor")&&!A.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var r;if(j)for(r in t)return A.call(t,r);for(r in t);return void 0===r||A.call(t,r)}function a(t){if(!t||"[object Object]"!==w.call(t)||t.nodeType||i(t)||!t.hasOwnProperty)return!1;for(var r in t)if(t.hasOwnProperty(r))return!1;return!0}function c(t,r){var e;for(e in r)r.hasOwnProperty(e)&&(t[e]=u(r[e],t[e]));return t}function u(t,r){return P(t)?t=t.slice():o(t)&&(o(r)||(r={}),t=c(r,t)),t}function s(t,r,e){for(var n=[],i=r.constructor.prototype;i;)i.hasOwnProperty("attrs")||(i.attrs={}),l(e,i.attrs,i),a(i.attrs)||n.unshift(i.attrs),i=i.constructor.superclass;for(var o=0,c=n.length;o<c;o++)y(t,p(n[o]))}function f(t,r){y(t,p(r,!0),!0)}function l(t,r,e,n){for(var i=0,o=t.length;i<o;i++){var a=t[i];e.hasOwnProperty(a)&&(r[a]=n?r.get(a):e[a])}}function h(t,r){for(var e in r)if(r.hasOwnProperty(e)){var i,o=r[e].value;n(o)&&(i=e.match(x))&&(t[i[1]](v(i[2]),o),delete r[e])}}function v(t){var r=t.match(m),e=r[1]?"change:":"";return e+=r[2].toLowerCase()+r[3]}function g(t,r,e){var n={silent:!0};t.__initializingAttrs=!0;for(var i in e)e.hasOwnProperty(i)&&r[i].setter&&t.set(i,e[i],n);delete t.__initializingAttrs}function p(t,r){var e={};for(var n in t){var i=t[n];!r&&o(i)&&b(i,S)?e[n]=i:e[n]={value:i}}return e}function y(t,r,e){var n,i,o;for(n in r)if(r.hasOwnProperty(n)){if(i=r[n],o=t[n],o||(o=t[n]={}),void 0!==i.value&&(o.value=u(i.value,o.value)),e)continue;for(var a in C){var c=C[a];void 0!==i[c]&&(o[c]=i[c])}}return t}function b(t,r){for(var e=0,n=r.length;e<n;e++)if(t.hasOwnProperty(r[e]))return!0;return!1}function O(t){return null==t||(e(t)||P(t))&&0===t.length||a(t)}function d(t,r){if(t===r)return!0;if(O(t)&&O(r))return!0;var e=w.call(t);if(e!=w.call(r))return!1;switch(e){case"[object String]":return t==String(r);case"[object Number]":return t!=+t?r!=+r:0==t?1/t==1/r:t==+r;case"[object Date]":case"[object Boolean]":return+t==+r;case"[object RegExp]":return t.source==r.source&&t.global==r.global&&t.multiline==r.multiline&&t.ignoreCase==r.ignoreCase;case"[object Array]":var n=t.toString(),i=r.toString();return-1===n.indexOf("[object")&&-1===i.indexOf("[object")&&n===i}if("object"!=typeof t||"object"!=typeof r)return!1;if(o(t)&&o(r)){if(!d(_(t),_(r)))return!1;for(var a in t)if(t[a]!==r[a])return!1;return!0}return!1}t.exports={initAttrs:function(t){var r=this.attrs={},e=this.propsInAttrs||[];s(r,this,e),t&&f(r,t),g(this,r,t),h(this,r),l(e,this,r,!0)},get:function(t){var r=this.attrs[t]||{},e=r.value;return r.getter?r.getter.call(this,e,t):e},set:function(t,r,n){var i={};e(t)?i[t]=r:(i=t,n=r),n||(n={});var a=n.silent,u=n.override,s=this.attrs,f=this.__changedAttrs||(this.__changedAttrs={});for(t in i)if(i.hasOwnProperty(t)){var l=s[t]||(s[t]={});if(r=i[t],l.readOnly)throw new Error("This attribute is readOnly: "+t);l.setter&&(r=l.setter.call(this,r,t));var h=this.get(t);!u&&o(h)&&o(r)&&(r=c(c({},h),r)),s[t].value=r,this.__initializingAttrs||d(h,r)||(a?f[t]=[r,h]:this.trigger("change:"+t,r,h,t))}return this},change:function(){var t=this.__changedAttrs;if(t){for(var r in t)if(t.hasOwnProperty(r)){var e=t[r];this.trigger("change:"+r,e[0],e[1],r)}delete this.__changedAttrs}return this},_isPlainObject:o};var j,w=Object.prototype.toString,A=Object.prototype.hasOwnProperty;!function(){function t(){this.x=1}var r=[];t.prototype={valueOf:1,y:1};for(var e in new t)r.push(e);j="x"!==r[0]}();var P=Array.isArray||function(t){return"[object Array]"===w.call(t)},_=Object.keys;_||(_=function(t){var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push(e);return r});var x=/^(on|before|after)([A-Z].*)$/,m=/^(Change)?([A-Z])(.*)/,S=["value","getter","setter","readOnly"],C=["setter","getter","readOnly"]});