define("app/exts/arale/events",["module","exports"],function(t,e){function r(){}function o(t,e,r){var o=!0;if(t){var n=0,i=t.length,s=e[0],f=e[1],a=e[2];switch(e.length){case 0:for(;n<i;n+=2)o=!1!==t[n].call(t[n+1]||r)&&o;break;case 1:for(;n<i;n+=2)o=!1!==t[n].call(t[n+1]||r,s)&&o;break;case 2:for(;n<i;n+=2)o=!1!==t[n].call(t[n+1]||r,s,f)&&o;break;case 3:for(;n<i;n+=2)o=!1!==t[n].call(t[n+1]||r,s,f,a)&&o;break;default:for(;n<i;n+=2)o=!1!==t[n].apply(t[n+1]||r,e)&&o}}return o}function n(t){return"[object Function]"===Object.prototype.toString.call(t)}r.prototype.on=function(t,e,r){var o,n,i;if(!e)return this;for(o=this.__events||(this.__events={}),t=t.split(/\s+/);n=t.shift();)i=o[n]||(o[n]=[]),i.push(e,r);return this},r.prototype.once=function(t,e,r){var o=this,n=function(){o.off(t,n),e.apply(r||o,arguments)};return this.on(t,n,r)},r.prototype.off=function(t,e,r){var o,n,s,f;if(!(o=this.__events))return this;if(!(t||e||r))return delete this.__events,this;for(t=t?t.split(/\s+/):i(o);n=t.shift();)if(s=o[n])if(e||r)for(f=s.length-2;f>=0;f-=2)e&&s[f]!==e||r&&s[f+1]!==r||s.splice(f,2);else delete o[n];return this},r.prototype.trigger=function(t){var e,r,n,i,s,f,a=[],p=!0;if(!(e=this.__events))return this;for(t=t.split(/\s+/),s=1,f=arguments.length;s<f;s++)a[s-1]=arguments[s];for(;r=t.shift();)(n=e.all)&&(n=n.slice()),(i=e[r])&&(i=i.slice()),"all"!==r&&(p=o(i,a,this)&&p),p=o(n,[r].concat(a),this)&&p;return p},r.prototype.emit=r.prototype.trigger;var i=Object.keys;i||(i=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}),r.mixTo=function(t){var e=r.prototype;if(n(t)){for(var o in e)e.hasOwnProperty(o)&&(t.prototype[o]=e[o]);Object.keys(e).forEach(function(r){t.prototype[r]=e[r]})}else{var i=new r;for(var o in e)e.hasOwnProperty(o)&&function(r){t[r]=function(){return e[r].apply(i,Array.prototype.slice.call(arguments)),this}}(o)}},t.exports=r});