define("app/exts/auth/lib/rule/rule",["jquery","underscore","app/exts/arale/base"],function(e,t,r){var a=r.extend({initialize:function(e,r,i){var n=this;if(!t.isString(e)||!t.isFunction(r))return n;t.isObject(i)||(i={args:[]}),t.extend(i,{name:e,validation:r}),a.superclass.initialize.call(n,i)},validate:function(){var e=this,r=e.get("validation"),a=e._getArgs(),i=e.get("_defer"),n=r.apply(e,a);if(t.isBoolean(n)){var u=n;return n=i.promise(),i[u&&"resolve"||"reject"](e),n}return n},msg:function(e,r){var a=this;if(!t.isString(e)&&!t.isString(r))return a;var i=a.get("msg");return r?(i[e]=r,r):i[e]},_getArgs:function(){var t=this,r=new e.Deferred,a=t.get("field"),i=[t.get("value"),t.get("propertyValue"),r,a];return t.set("_defer",r),i},attrs:{name:{value:""},value:{value:"",getter:function(e){var t=this.get("target");return t.length?t.val():e}},propertyValue:{value:"",getter:function(e){var t=this.get("target");return t.length?t.attr(this.get("name")):e}},msg:{value:{error:"",success:""}},validation:{value:function(){}},target:{value:""},field:{value:""},_defer:{value:""}}});return a});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4dHMvYXV0aC9saWIvcnVsZS9ydWxlLmpzIl0sIm5hbWVzIjpbImRlZmluZSIsIiQiLCJfIiwiQmFzZSIsIlJ1bGUiLCJleHRlbmQiLCJpbml0aWFsaXplIiwicnVsZU5hbWUiLCJydWxlRnVuY3Rpb24iLCJydWxlQ29uZmlnIiwic2VsZiIsInRoaXMiLCJpc1N0cmluZyIsImlzRnVuY3Rpb24iLCJpc09iamVjdCIsImFyZ3MiLCJuYW1lIiwidmFsaWRhdGlvbiIsInN1cGVyY2xhc3MiLCJjYWxsIiwidmFsaWRhdGUiLCJnZXQiLCJfZ2V0QXJncyIsIl9kZWZlciIsInZhbGlkYXRlZEFwcGx5IiwiYXBwbHkiLCJpc0Jvb2xlYW4iLCJpc1Bhc3MiLCJwcm9taXNlIiwibXNnIiwic3RhdHVzIiwibXNncyIsIkRlZmVycmVkIiwiZmllbGQiLCJzZXQiLCJhdHRycyIsInZhbHVlIiwiZ2V0dGVyIiwidiIsInRhcmdldCIsImxlbmd0aCIsInZhbCIsInByb3BlcnR5VmFsdWUiLCJhdHRyIiwiZXJyb3IiLCJzdWNjZXNzIl0sIm1hcHBpbmdzIjoiQUFBQUEsT0FBTywrQkFDTCxTQUNBLGFBQ0EsdUJBQ0MsU0FBU0MsRUFBR0MsRUFBR0MsR0FPaEIsR0FBSUMsR0FBT0QsRUFBS0UsUUFDZEMsV0FBWSxTQUFVQyxFQUFVQyxFQUFjQyxHQUM1QyxHQUFJQyxHQUFPQyxJQUNYLEtBQUlULEVBQUVVLFNBQVNMLEtBQWNMLEVBQUVXLFdBQVdMLEdBQWdCLE1BQU9FLEVBQzdEUixHQUFFWSxTQUFTTCxLQUFhQSxHQUFjTSxVQUcxQ2IsRUFBRUcsT0FBT0ksR0FDUE8sS0FBTVQsRUFDTlUsV0FBWVQsSUFHZEosRUFBS2MsV0FBV1osV0FBV2EsS0FBS1QsRUFBTUQsSUFNeENXLFNBQVUsV0FDUixHQUFJVixHQUFPQyxLQUNQTSxFQUFhUCxFQUFLVyxJQUFJLGNBQ3RCTixFQUFPTCxFQUFLWSxXQUVaQyxFQUFTYixFQUFLVyxJQUFJLFVBRWxCRyxFQUFpQlAsRUFBV1EsTUFBTWYsRUFBTUssRUFLNUMsSUFBSWIsRUFBRXdCLFVBQVVGLEdBQWlCLENBQy9CLEdBQUlHLEdBQVNILENBR2IsT0FGQUEsR0FBaUJELEVBQU9LLFVBQ3hCTCxFQUFPSSxHQUFVLFdBQWEsVUFBVWpCLEdBQ2pDYyxFQUdULE1BQU9BLElBUVRLLElBQUssU0FBU0MsRUFBUUQsR0FDcEIsR0FBSW5CLEdBQU9DLElBQ1gsS0FBS1QsRUFBRVUsU0FBU2tCLEtBQVk1QixFQUFFVSxTQUFTaUIsR0FBTSxNQUFPbkIsRUFDcEQsSUFBSXFCLEdBQU9yQixFQUFLVyxJQUFJLE1BQ3BCLE9BQUtRLElBR0hFLEVBQUtELEdBQVVELEVBQ1JBLEdBSEFFLEVBQUtELElBV2hCUixTQUFVLFdBQ1IsR0FBSVosR0FBT0MsS0FDUFksRUFBUyxHQUFJdEIsR0FBRStCLFNBQ2ZDLEVBQVF2QixFQUFLVyxJQUFJLFNBQ2pCTixHQUVGTCxFQUFLVyxJQUFJLFNBRVRYLEVBQUtXLElBQUksaUJBRVRFLEVBQ0FVLEVBR0YsT0FEQXZCLEdBQUt3QixJQUFJLFNBQVVYLEdBQ1hSLEdBRVZvQixPQUlFbkIsTUFDRW9CLE1BQU0sSUFLUkEsT0FDRUEsTUFBTyxHQUNQQyxPQUFRLFNBQVNDLEdBQ2YsR0FBSUMsR0FBUzVCLEtBQUtVLElBQUksU0FDdEIsT0FBS2tCLEdBQU9DLE9BQ0xELEVBQU9FLE1BRGFILElBTy9CSSxlQUNFTixNQUFPLEdBQ1BDLE9BQVEsU0FBU0MsR0FDZixHQUFJQyxHQUFTNUIsS0FBS1UsSUFBSSxTQUN0QixPQUFLa0IsR0FBT0MsT0FFTEQsRUFBT0ksS0FBS2hDLEtBQUtVLElBQUksU0FGRGlCLElBUS9CVCxLQUNFTyxPQUNFUSxNQUFPLEdBQ1BDLFFBQVMsS0FNYjVCLFlBQ0VtQixNQUFPLGNBS1RHLFFBQ0VILE1BQU8sSUFNVEgsT0FDRUcsTUFBTyxJQUVUYixRQUNFYSxNQUFPLE1BS2IsT0FBT2hDIiwiZmlsZSI6ImV4dHMvYXV0aC9saWIvcnVsZS9ydWxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lKCdhcHAvZXh0cy9hdXRoL2xpYi9ydWxlL3J1bGUnLCBbXG4gICdqcXVlcnknLFxuICAndW5kZXJzY29yZScsXG4gICdhcHAvZXh0cy9hcmFsZS9iYXNlJ1xuXSwgZnVuY3Rpb24oJCwgXywgQmFzZSkge1xuICAvKipcbiAgICog6KeE5YiZ57G7XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBydWxlQ29uZmlnIHBhcmFtcyBhbmQgbXNnIOinhOWImeWPguaVsFxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIHZhciBSdWxlID0gQmFzZS5leHRlbmQoe1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIChydWxlTmFtZSwgcnVsZUZ1bmN0aW9uLCBydWxlQ29uZmlnKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICAgIGlmKCFfLmlzU3RyaW5nKHJ1bGVOYW1lKSB8fCAhXy5pc0Z1bmN0aW9uKHJ1bGVGdW5jdGlvbikgKSByZXR1cm4gc2VsZlxuICAgICAgaWYoIV8uaXNPYmplY3QocnVsZUNvbmZpZykpIHJ1bGVDb25maWcgPSB7YXJnczpbXX1cblxuICAgICAgLy/lkIjlubblj4LmlbBcbiAgICAgIF8uZXh0ZW5kKHJ1bGVDb25maWcsIHtcbiAgICAgICAgbmFtZTogcnVsZU5hbWUsXG4gICAgICAgIHZhbGlkYXRpb246IHJ1bGVGdW5jdGlvblxuICAgICAgfSlcblxuICAgICAgUnVsZS5zdXBlcmNsYXNzLmluaXRpYWxpemUuY2FsbChzZWxmLCBydWxlQ29uZmlnKVxuICAgIH0sXG4gICAgLyoqXG4gICAgICog6KeE5YiZ6aqM6K+B77yM55WZ5oSP6L+U5Zue55qE5pivUHJvbWlzZeWunuS+i1xuICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICovXG4gICAgdmFsaWRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzXG4gICAgICB2YXIgdmFsaWRhdGlvbiA9IHNlbGYuZ2V0KCd2YWxpZGF0aW9uJylcbiAgICAgIHZhciBhcmdzID0gc2VsZi5fZ2V0QXJncygpXG5cbiAgICAgIHZhciBfZGVmZXIgPSBzZWxmLmdldCgnX2RlZmVyJylcbiAgICAgIC8v6LCD55So6aqM6K+B5pa55rOV77yM6L+U5ZuecHJvbWlzZVxuICAgICAgdmFyIHZhbGlkYXRlZEFwcGx5ID0gdmFsaWRhdGlvbi5hcHBseShzZWxmLCBhcmdzKVxuXG4gICAgICAvL+mdnuW8guatpe+8jOaZrumAmueahOmqjOivgeWHveaVsFxuICAgICAgLy92YWxpZGF0ZWRBcHBseeeahOWAvOS4unRydWV8fGZhbHNlXG4gICAgICAvL+azqOWFpXByb21pc2VcbiAgICAgIGlmIChfLmlzQm9vbGVhbih2YWxpZGF0ZWRBcHBseSkpIHtcbiAgICAgICAgdmFyIGlzUGFzcyA9IHZhbGlkYXRlZEFwcGx5XG4gICAgICAgIHZhbGlkYXRlZEFwcGx5ID0gX2RlZmVyLnByb21pc2UoKVxuICAgICAgICBfZGVmZXJbaXNQYXNzICYmICdyZXNvbHZlJyB8fCAncmVqZWN0J10oc2VsZilcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZEFwcGx5XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWxpZGF0ZWRBcHBseVxuICAgIH0sXG4gICAgLyoqXG4gICAgICog6I635Y+WL+iuvue9ruaMh+WumueKtuaAgeS4i+eahOa2iOaBr1xuICAgICAqIEBwYXJhbSBzdGF0dXNcbiAgICAgKiBAcGFyYW0gbXNnXG4gICAgICogQHJldHVybiBtc2dcbiAgICAgKi9cbiAgICBtc2c6IGZ1bmN0aW9uKHN0YXR1cywgbXNnKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICAgIGlmICghXy5pc1N0cmluZyhzdGF0dXMpICYmICFfLmlzU3RyaW5nKG1zZykpIHJldHVybiBzZWxmXG4gICAgICB2YXIgbXNncyA9IHNlbGYuZ2V0KCdtc2cnKVxuICAgICAgaWYgKCFtc2cpIHtcbiAgICAgICAgcmV0dXJuIG1zZ3Nbc3RhdHVzXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbXNnc1tzdGF0dXNdID0gbXNnXG4gICAgICAgIHJldHVybiBtc2dcbiAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIOiuvue9rumqjOivgeWHveaVsOeahOWPguaVsOWAvFxuICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldEFyZ3M6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzXG4gICAgICB2YXIgX2RlZmVyID0gbmV3ICQuRGVmZXJyZWQoKVxuICAgICAgdmFyIGZpZWxkID0gc2VsZi5nZXQoJ2ZpZWxkJylcbiAgICAgIHZhciBhcmdzID0gW1xuICAgICAgICAvL+ebruagh+WAvO+8iOaMh+WQkeebruagh+ihqOWNleWFg+e0oOeahOWAvO+8iVxuICAgICAgICBzZWxmLmdldCgndmFsdWUnKSxcbiAgICAgICAgLy/op4TliJnlsZ7mgKflgLxcbiAgICAgICAgc2VsZi5nZXQoJ3Byb3BlcnR5VmFsdWUnKSxcbiAgICAgICAgLy9wcm9taXNlXG4gICAgICAgIF9kZWZlcixcbiAgICAgICAgZmllbGRcbiAgICAgIF1cbiAgICAgIHNlbGYuc2V0KCdfZGVmZXInLCBfZGVmZXIpXG4gICAgICByZXR1cm4gIGFyZ3NcbiAgICB9LFxuICAgIGF0dHJzOiB7XG4gICAgICAvKipcbiAgICAgICAqIOinhOWImeWQjeensFxuICAgICAgICovXG4gICAgICBuYW1lOiB7XG4gICAgICAgIHZhbHVlOicnXG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiDpnIDopoHop4TliJnpqozor4HnmoTlgLxcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICBnZXR0ZXI6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5nZXQoJ3RhcmdldCcpXG4gICAgICAgICAgaWYgKCF0YXJnZXQubGVuZ3RoKSByZXR1cm4gdlxuICAgICAgICAgIHJldHVybiB0YXJnZXQudmFsKClcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICog6KeE5YiZ5bGe5oCn55qE5YC8XG4gICAgICAgKi9cbiAgICAgIHByb3BlcnR5VmFsdWU6IHtcbiAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICBnZXR0ZXI6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5nZXQoJ3RhcmdldCcpXG4gICAgICAgICAgaWYgKCF0YXJnZXQubGVuZ3RoKSByZXR1cm4gdlxuXG4gICAgICAgICAgcmV0dXJuIHRhcmdldC5hdHRyKHRoaXMuZ2V0KCduYW1lJykpXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIOa2iOaBr+mFjee9rlxuICAgICAgICovXG4gICAgICBtc2c6IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICBlcnJvcjogJycsXG4gICAgICAgICAgc3VjY2VzczogJydcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICog6aqM6K+B5Ye95pWwXG4gICAgICAgKi9cbiAgICAgIHZhbGlkYXRpb246IHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCl7fVxuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICog55uu5qCH5YWD57SgXG4gICAgICAgKi9cbiAgICAgIHRhcmdldDoge1xuICAgICAgICB2YWx1ZTogJydcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIOinhOWImeWvueW6lOeahOihqOWNleWfn++8iOaMh+WQkeS8muWPmOWMlu+8iVxuICAgICAgICogQHR5cGUge0ZpZWxkfVxuICAgICAgICovXG4gICAgICBmaWVsZDoge1xuICAgICAgICB2YWx1ZTogJydcbiAgICAgIH0sXG4gICAgICBfZGVmZXI6IHtcbiAgICAgICAgdmFsdWU6ICcnXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4gIHJldHVybiBSdWxlXG59KSJdfQ==
