define("app/exts/auth/lib/rule/rule",["require","module","exports","jquery","underscore","app/exts/arale/base"],function(e,t,r){var a=e("jquery"),i=e("underscore"),n=e("app/exts/arale/base"),u=n.extend({initialize:function(e,t,r){var a=this;if(!i.isString(e)||!i.isFunction(t))return a;i.isObject(r)||(r={args:[]}),i.extend(r,{name:e,validation:t}),u.superclass.initialize.call(a,r)},validate:function(){var e=this,t=e.get("validation"),r=e._getArgs(),a=e.get("_defer"),n=t.apply(e,r);if(i.isBoolean(n)){var u=n;return n=a.promise(),a[u&&"resolve"||"reject"](e),n}return n},msg:function(e,t){var r=this;if(!i.isString(e)&&!i.isString(t))return r;var a=r.get("msg");return t?(a[e]=t,t):a[e]},_getArgs:function(){var e=this,t=new a.Deferred,r=e.get("field"),i=[e.get("value"),e.get("propertyValue"),t,r];return e.set("_defer",t),i},attrs:{name:{value:""},value:{value:"",getter:function(e){var t=this.get("target");return t.length?t.val():e}},propertyValue:{value:"",getter:function(e){var t=this.get("target");return t.length?t.attr(this.get("name")):e}},msg:{value:{error:"",success:""}},validation:{value:function(){}},target:{value:""},field:{value:""},_defer:{value:""}}});return u});