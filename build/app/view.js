define("app/view",["require","module","exports","magix","underscore","jquery","pat","brix/loader"],function(e,t,i){var a=e("magix"),r=e("underscore"),d=e("jquery"),n=e("pat"),s=e("brix/loader");a.View.mixin({setView:function(e,t){var i=this,a=d.Deferred(),o=i.$(this.id);this.undelegateEvents(o),this.beginUpdate();var p=r.extend(this.data);return this.rendered?(r.extend(i._pat.$data,i.data),this._pat.$apply(),s.boot(o,function(){i.endUpdate(),i.delegateEvents(o),t&&t(),a.resolve(s)})):(this._pat=new n({el:o,data:p,template:this.tmpl,filters:this.filters,dataCheckType:"dirtyCheck"}),s.boot(o,function(){i.endUpdate(),i.delegateEvents(o),e&&e(),a.resolve(s)})),this.on("destroy",function(){s.destroy(o)}),a.promise()}})});